---
title: '连接你的数据库'
metaTitle: '连接你的数据库'
metaDescription: '将数据库连接到你的项目'
langSwitcher: ['typescript', 'node']
dbSwitcher: ['postgres', 'mysql']
toc: false
---

## 连接你的数据库

为了连接你的数据库，你需要在你的Prisma模式中设置`datasource`块的`url`字段到你的数据库[连接URL](../../../../reference/database-reference/connection-urls):

<SwitchTech technologies={['*', 'postgresql']}>

```prisma file=prisma/schema.prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
```

在本例中，`url`是[通过环境变量设置](../../../../guides/development-environment/environment-variables)，它在`.env`中定义:

```bash file=.env
DATABASE_URL="postgresql://johndoe:randompassword@localhost:5432/mydb?schema=public"
```

现在需要调整连接URL以指向您自己的数据库。

数据库连接 URL 的格式取决于您使用的数据库。对于 PostgreSQL，它看起来如下（拼写全部大写的部分是您的特定连接详细信息的占位符）：

```no-lines
postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
```

以下是每个组件的简短说明：

- `USER`: 你的数据库用户名
- `PASSWORD`: 数据库用户的密码
- `PORT`: 数据库服务器运行的端口（通常5432用于 PostgreSQL）
- `DATABASE`: [数据库](https://www.postgresql.org/docs/12/manage-ag-overview.html)名称
- `SCHEMA`: 数据库中[schema](https://www.postgresql.org/docs/12/ddl-schemas.html)的名称

如果不确定要为PostgreSQL连接URL的`schema`参数提供什么，可以忽略它。在这种情况下，将使用默认模式`public`。

例如，对于托管在 Heroku 上的 PostgreSQL 数据库，[连接URL](../../../../reference/database-reference/connection-urls)连接URL可能类似于这样:

```bash file=.env
DATABASE_URL="postgresql://opnmyfngbknppm:XXX@ec2-46-137-91-216.eu-west-1.compute.amazonaws.com:5432/d50rgmkqi2ipus?schema=hello-prisma"
```

当在Mac OS上本地运行PostgreSQL时，你的用户名和密码以及数据库名 _typically_ 对应于你的操作系统当前的 _user_ ，例如假设用户名为`janedoe`:

```bash file=.env
DATABASE_URL="postgresql://janedoe:janedoe@localhost:5432/janedoe?schema=hello-prisma"
```

</SwitchTech>

<SwitchTech technologies={['*', 'mysql']}>

```prisma file=prisma/schema.prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
```

注意，由`prisma init`创建的默认模式使用PostgreSQL，所以你首先需要将`provider`切换到`mysql`:

```prisma file=prisma/schema.prisma highlight=2;edit
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
```

在这种情况下，`url`是[通过环境变量设置](../../../../concepts/components/prisma-schema#accessing-environment-variables-from-the-schema)，它在`.env`中定义:

```bash file=.env
DATABASE_URL="mysql://johndoe:randompassword@localhost:3306/mydb"
```

现在需要调整连接URL以指向您自己的数据库。

数据库连接URL的格式通常取决于所使用的数据库。对于MySQL，它看起来如下(全部大写的部分是 _placeholders_ ，用于您特定的连接细节):

```no-lines
mysql://USER:PASSWORD@HOST:PORT/DATABASE
```

以下是对每个组件的简短解释:

- `USER`: 你的数据库用户名
- `PASSWORD`: 数据库用户的密码
- `PORT`: 数据库服务器运行的端口(MySQL通常是`3306`)
- `DATABASE`: [数据库](https://dev.mysql.com/doc/refman/8.0/en/creating-database.html)的名称

例如，对于托管在AWS RDS上的MySQL数据库，[连接URL](../../../../reference/database-reference/connection-urls)可能类似于这样:

```bash file=.env
DATABASE_URL="mysql://johndoe:XXX@mysql–instance1.123456789012.us-east-1.rds.amazonaws.com:3306/mydb"
```

当在本地运行MySQL时，你的连接URL通常看起来像这样:

```bash file=.env
DATABASE_URL="mysql://root:randompassword@localhost:3306/mydb"
```

</SwitchTech>

<SwitchTech technologies={['node', 'postgresql']}>

<NavigationLinksContainer>

<ButtonLink
  color="dark"
  type="primary"
  href="/getting-started/setup-prisma/start-from-scratch/relational-databases-node-postgres"
  arrowLeft
>
  安装
</ButtonLink>

<ButtonLink
  color="dark"
  type="primary"
  href="./using-prisma-migrate-node-postgres"
  arrow
>
  使用Prisma Migrate
</ButtonLink>

</NavigationLinksContainer>

</SwitchTech>

<SwitchTech technologies={['node', 'mysql']}>

<NavigationLinksContainer>

<ButtonLink
  color="dark"
  type="primary"
  href="/getting-started/setup-prisma/start-from-scratch/relational-databases-node-mysql"
  arrowRight
>
  安装
</ButtonLink>

<ButtonLink
  color="dark"
  type="primary"
  href="./using-prisma-migrate-node-mysql"
  arrow
>
  使用Prisma Migrate
</ButtonLink>

</NavigationLinksContainer>

</SwitchTech>

<SwitchTech technologies={['typescript', 'postgresql']}>

<NavigationLinksContainer>

<ButtonLink
  color="dark"
  type="primary"
  href="/getting-started/setup-prisma/start-from-scratch/relational-databases-typescript-postgres"
  arrowLeft
>
  安装
</ButtonLink>

<ButtonLink
  color="dark"
  type="primary"
  href="./using-prisma-migrate-typescript-postgres"
  arrow
>
  使用Prisma Migrate
</ButtonLink>

</NavigationLinksContainer>

</SwitchTech>

<SwitchTech technologies={['typescript', 'mysql']}>

<NavigationLinksContainer>

<ButtonLink
  color="dark"
  type="primary"
  href="/getting-started/setup-prisma/start-from-scratch-typescript-mysql"
  arrowRight
>
  安装
</ButtonLink>

<ButtonLink
  color="dark"
  type="primary"
  href="./using-prisma-migrate-typescript-mysql"
  arrow
>
  使用Prisma Migrate
</ButtonLink>

</NavigationLinksContainer>

</SwitchTech>
